{"version":3,"sources":["sw.js","components/Organization.js","components/Rating.js","containers/MainPanel.js","containers/AboutPanel.js","containers/App.js","index.js"],"names":["registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","isLocalhost","Boolean","window","location","hostname","match","Organization","props","react_default","a","createElement","es6","className","multiline","style","background","borderRadius","borderBottom","display","justifyContent","alignItems","padding","paddingLeft","paddingRight","info","width","src","border","position","left","top","document_default","fill","size","level","onClick","message","Rating","before","favorite_outline_default","rating","MainPanel","readQRCode","connect","subscribe","e","detail","type","_this","checkUserLocation","data","send","hasOwnProperty","_this2","this","app_id","scope","res","setState","token","_this3","fetchedUser","organizations","id","title","photo_200","description","city","concat","first_name","last_name","camera_default","components_Rating","go","data-to","map","org","i","components_Organization","key","Component","osname","platform","AboutPanel","IOS","chevron_back_default","back_default","isWebView","vkConnect","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","currentTarget","dataset","to","activePanel","getOrganizations","asyncToGenerator","regenerator_default","mark","_callee","request","wrap","_context","prev","next","fetch","headers","Content-Type","Authorization","sent","json","sheetsdata","abrupt","stop","getRating","_callee2","_context2","access_token","values","insets","activeView","src_containers_MainPanel","accessToken","containers_AboutPanel","ReactDOM","render","containers_App","document","getElementById","URL","process","origin","addEventListener","response","status","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.e3167e61.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\r\nimport {Cell, Div, Button} from \"@vkontakte/vkui\";\r\nimport Icon28Document from '@vkontakte/icons/dist/28/document';\r\n\r\nconst Organization = props => (\r\n    <Cell className=\"listorg\" multiline>\r\n        <Div style={{background: '#eee', borderRadius: '7px', borderBottom: '1px solid #5181b8'}}>\r\n            <Div style={{display: 'flex', justifyContent: 'space-between',alignItems: 'stretch', background: '#eee', padding: '0'}}>\r\n                <Div style={{background: '#eee', paddingLeft: '0', paddingRight: '0'}}><b>{props.info[0]}</b></Div>\r\n                <Div><img style={{width: '90px'}} src={ props.info[2] } /></Div>\r\n            </Div>\r\n            <Div style={{background: '#4bb34b26',borderRadius: '4px',border: '1px solid #4eb94e', position: 'relative'}}>\r\n                <Div style={{position: 'absolute',left: '-14px',top: '7px', padding: '0'}}><Icon28Document fill={'#5181b8'} /></Div>\r\n                {props.info[6]}\r\n            </Div>\r\n            <Div style={{paddingLeft: '0', paddingRight: '0'}}>\r\n                <Button size=\"xl\" level=\"secondary\" onClick={props.message}>Откликнуться</Button>\r\n            </Div>\r\n        </Div>\r\n    </Cell>\r\n);\r\nexport default Organization;\r\n","import React from 'react';\r\nimport {Cell} from \"@vkontakte/vkui\";\r\nimport Icon24FavoriteOutline from '@vkontakte/icons/dist/24/favorite_outline';\r\n\r\nconst Rating = props =>\r\n    <Cell before={<Icon24FavoriteOutline className=\"rating\" />}>\r\n        <span className=\"rating\">{props.rating ? 'props.rating' : '5660'}</span>\r\n    </Cell>;\r\n\r\nexport default Rating;\r\n","import React, {Component} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n    Panel,\r\n    PanelHeader,\r\n    List,\r\n    Button,\r\n    Group,\r\n    ListItem,\r\n    Avatar,\r\n    Cell,\r\n    Separator, Div\r\n} from '@vkontakte/vkui';\r\nimport Icon24Camera from '@vkontakte/icons/dist/24/camera';\r\nimport Organization from \"../components/Organization\";\r\nimport Rating from \"../components/Rating\";\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport './MainPanel.css';\r\n\r\nclass MainPanel extends Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    message() {\r\n        connect.send('VKWebAppGetAuthToken', {'app_id': 7133183, 'scope': 'friends,status,messages'})\r\n            .then(res => {\r\n                this.setState({\r\n                    token: res\r\n                });\r\n            });\r\n\r\n        connect.subscribe((e) => {\r\n            console.log(e);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const fetchedUser = this.props.fetchedUser;\r\n        const organizations = this.props.organizations;\r\n\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader>\r\n\r\n                </PanelHeader>\r\n\r\n                {this.props.fetchedUser &&\r\n                <Group title=\"\">\r\n                    <ListItem\r\n                        before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\r\n                        description={fetchedUser.city && fetchedUser.city.title ? `${fetchedUser.city.title}` : ''}\r\n                    >\r\n                        {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n                    </ListItem>\r\n                </Group>}\r\n\r\n                {this.props.fetchedUser && <Group>\r\n                    <Cell><Button before={<Icon24Camera/>} size=\"l\" onClick={() => this.readQRCode()}>Считать QR-code</Button></Cell>\r\n                    <Separator/>\r\n                    <Rating rating={this.props.rating} />\r\n                </Group>}\r\n\r\n                <Group>\r\n                    <Div>\r\n                        {this.props.token ? this.props.token : 'token'}\r\n                        <Button size=\"xl\" level=\"2\" onClick={this.props.go} data-to=\"aboutPanel\">\r\n                            Туториал\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n\r\n                <Group title=\"Организации\">\r\n                    <List>\r\n                    {organizations && organizations.map( (org,i) => (\r\n                        <Organization key={i} info={org} message={this.message}/>\r\n                    ))}\r\n                    </List>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n    readQRCode = () => {\r\n        connect.subscribe((e) => {\r\n            switch (e.detail.type) {\r\n                case 'VKWebAppOpenQRResult':\r\n                    this.checkUserLocation(e.detail.data);\r\n                    break;\r\n                case 'VKWebAppOpenQRFailed':\r\n                    break;\r\n                default:\r\n                    console.log(e.detail.type);\r\n            }\r\n        });\r\n        connect.send(\"VKWebAppOpenQR\", {});\r\n    };\r\n\r\n    checkUserLocation = (data) => {\r\n        if (data.hasOwnProperty('qr_data')) {\r\n\r\n        } else {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default MainPanel;\r\n","import React from 'react';\r\nimport { Group, HeaderButton, IOS, Panel, PanelHeader, platform} from \"@vkontakte/vkui\";\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst AboutPanel = props => (\r\n    <Panel id={props.id}>\r\n        <PanelHeader\r\n            left={<HeaderButton onClick={props.go} data-to=\"mainPanel\">\r\n                {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n            </HeaderButton>}\r\n        >\r\n            О нас\r\n        </PanelHeader>\r\n\r\n        <Group title=\"Наши цели\">\r\n\r\n        </Group>\r\n\r\n        <Group title=\"Как пользоватсья\">\r\n\r\n        </Group>\r\n\r\n        <Group title=\"Получай рейтинг\">\r\n\r\n        </Group>\r\n    </Panel>\r\n);\r\n\r\nexport default AboutPanel;\r\n","import React, {Component} from 'react';\r\nimport { ConfigProvider, Root, View } from '@vkontakte/vkui';\r\nimport vkConnect from '@vkontakte/vk-connect';\r\nimport MainPanel from './MainPanel';\r\nimport AboutPanel from \"./AboutPanel\";\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\n\r\nconst isWebView = vkConnect.isWebView();\r\n\r\nclass App extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activePanel: 'mainPanel',\r\n            fetchedUser: null,\r\n            rating: null,\r\n            token: null,\r\n            organizations: null\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        connect.subscribe((e) => {\r\n            switch (e.detail.type) {\r\n                case 'VKWebAppGetUserInfoResult':\r\n                    this.setState({ fetchedUser: e.detail.data });\r\n                    break;\r\n                case 'VKWebAppAccessTokenReceived':\r\n                    console.log(e.detail.data.access_token);\r\n                    this.setState({\r\n                        token: e.detail.data.access_token\r\n                    });\r\n                    break;\r\n                default:\r\n                    console.log(e.detail.type);\r\n            }\r\n        });\r\n        // connect.send('VKWebAppGetAuthToken', {'app_id': 7133183, 'scope': 'friends,status,messages'});\r\n        connect.send('VKWebAppGetUserInfo', {}).then(data => this.getRating());\r\n\r\n        this.getOrganizations().then(res => {\r\n            this.setState({\r\n                organizations: res.values\r\n            })\r\n        });\r\n    }\r\n\r\n    go = (e) => {\r\n        console.log(e.currentTarget.dataset.to);\r\n        this.setState({ activePanel: e.currentTarget.dataset.to })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ConfigProvider insets={this.props.insets} isWebView={isWebView}>\r\n                <Root activeView=\"mainView\">\r\n                    <View id=\"mainView\"\r\n                          activePanel={this.state.activePanel}>\r\n                        <MainPanel\r\n                            fetchedUser={this.state.fetchedUser}\r\n                            id=\"mainPanel\"\r\n                            accessToken={this.props.accessToken}\r\n                            go={this.go}\r\n                            token={this.state.token}\r\n                            organizations={this.state.organizations}\r\n                            rating={this.state.rating}\r\n                        />\r\n                        <AboutPanel\r\n                            id=\"aboutPanel\"\r\n                            go={this.go}/>\r\n                    </View>\r\n                </Root>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n\r\n    getOrganizations = async () => {\r\n        const request = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/1X848YaAiDmhD05BkYf-s7Up__I36zrdSBqRKxdBGrFI/values/A2:G`,\r\n            {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: \"Bearer ya29.Il-CB5eOPVZN_M9GiLTGLlBqXeeALa2h7IQ0SSHYaXF7jL35zi7dBIANvusXJPP5KLoto6kn-l-8a7upsi1I_dLxI0aYNjw-Ie6vf0290ldq4OsOe8nWHtnnUuNyFQn1dw\"\r\n                }\r\n            });\r\n        this.sheetsdata = await request.json();\r\n        console.log(this.sheetsdata);\r\n        return this.sheetsdata;\r\n    };\r\n\r\n    getRating = async () => {\r\n        const request = await fetch('');\r\n    };\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './sw';\nimport App from './containers/App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}